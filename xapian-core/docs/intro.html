<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Muscat: Introduction for developers</TITLE>
</HEAD>
<BODY BGCOLOR="white">

<TABLE CELLPADDING=10 WIDTH=99%>
<TR>
<TD>
</TD>
<TD>
<CENTER>
<H1>Muscat - the open source search engine</H1>
</CENTER>
</TD>
<TD WIDTH=114>
<A HREF="http://www.brightstation.com/"><IMG SRC="home_egg_off.jpg" WIDTH=113 HEIGHT=110 BORDER=0 ALT="logo"><IMG SRC="home_logo.jpg" WIDTH=114 HEIGHT=22 BORDER=0 ALT="brightstation PLC"></A>
</TD>
</TR>
</TABLE>

<H2>Introduction</H2>

This document is intended to get you going with Muscat, taking you from the
point of downloading the code, to getting an example application compiled
and running.
<p>
Note that Muscat is currently only available in versions targeted for UNIX
systems.

<H3>Download</H3>
The first step is to obtain a copy of the software.  Currently there are no
stable releases of Muscat, so for your first explorations we recommend using
one of the nightly snapshots.  These have been tested for consistency,
and compiled on our test system (though they may not compile on your system,
and may perform incorrectly even if they do).
<p>
Nightly snapshots are available via
<a href="http://open.muscat.com/open/developer/download/index.html">http://open.muscat.com/open/developer/download/index.html</a>
<p>
Snapshots of two different pieces of code are available: one will be named
<code>om-&lt;versionnumber&gt;-&lt;date&gt;.tar.gz</code> and contains the
core code for the Muscat search engine.  The other will be named
<code>om-examples-&lt;versionnumber&gt;-&lt;date&gt;.tar.gz</code> and
contains various example applications using Muscat.
<p>
You should retrieve the latest snapshot pair available; note that
if you wish to build the examples you should make sure that both snapshots
have the same date.  The snapshots are only released if they compile: thus
absence of an example snapshot probably means that recent changes in the
core code have broken the example snapshots.

<H3>Unpacking</H3>
Use the usual tools to unpack the archives.  For example, on a Linux system:
<blockquote> <code>
tar zxvf om-&lt;versionnumber&gt;-&lt;date&gt;.tar.gz
<br>
tar zxvf om-examples-&lt;versionnumber&gt;-&lt;date&gt;.tar.gz
</code> </blockquote>
These commands should unpack the archives into separate subdirectories
("om" and "examples").

<H3>Configuring and building Muscat</H3>
Muscat uses the GNU automake and autoconf tools.  If you only wish to build
from the snapshots or make minor alterations, this need not concern you
greatly.
<p>
These tools generate a configure script for each of the archives, which you
should run to set up the code for compilation.
<p>
A typical build would be done using the commands:
<pre>
    cd om
    ./configure
    make
    make install
</pre>

Various options may be given to the configure script: see the installation
documentation within the archive for more details.
<p>
By default, muscat will be installed in directories under
<CODE>/usr/local</CODE>.  This can be altered using the --prefix option
to configure.
</p>

<H3>Configuring and building the examples</H3>
The examples can be built in almost exactly the same way as the core library.
Simply run:
<pre>
    cd om-examples
    ./configure
    make
</pre>
Note that we do not currently recommend attempting to install the
examples.
<p>
<CODE>configure</CODE> should automatically find the installed muscat
library: if it doesn't you may need to specify the path to the 
<CODE>libomus-config</CODE> script, by using the
<CODE>--with-libomus-config</CODE> option to configure.
<p>
If you do not have an installed version of muscat, you 
you must pass parameters to configure to specify where to find
Muscat, as follows:
<ul><li>
The <code>--with-libomus-uninst</code> parameter specifies an (absolute) path
where the Muscat code can be found.
</li><li>
The <code>--with-libomus-uninst-exec</code> specifies an
(absolute) path where a built Muscat library can be found (this defaults to
the value of <code>--with-libomus-uninst</code>).
</li></ul>
<p>
Supposing you had unpacked both om and om-examples in the same
directory, you could use:
<pre>
    cd om-examples
    ./configure --with-libomus-uninst=`pwd`/../om
    make
</pre>
<p>
Check the documentation within the examples archive for more details on
building and running the examples.

<H3>Building from CVS</H3>
If you wish to help develop muscat, you may wish to build directly from the
CVS repository.  Note that this is extremely likely periodically to contain
severe bugs and code which will not compile.  Details on how to access
the CVS repository are available at
<a href="http://open.muscat.com/open/developer/download/cvs.html">http://open.muscat.com/open/developer/download/cvs.html</a>
<p>
The other drawback of CVS is that you will need to generate your own configure
script and makefiles.  This can be done using the GNU autoconf and automake
packages: you must have these installed if you wish to work from CVS.
<p>
We provide a useful script (<code>buildall</code>) to run all the necessary
scripts to generate the project Makefiles.  Simply run <code>./buildall</code>
to run all the neccessary scripts, run configure, and then run make.
Any parameters you wish to pass to configure may be supplied to buildall.
Run <code>./buildall --help</code> for more details.

</TD>
</TR>
</TABLE>
<!-- FOOTER $Author$ $Date$ $Id$ -->
</BODY>
</HTML>
